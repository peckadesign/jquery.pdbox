/*! jQuery pdBox 1.3.16 | MIT | PeckaDesign, s.r.o, https://github.com/peckadesign/jquery.pdbox */
$.pdBox=function(){var n={width:900,className:"",imageThumbnails:!1,imageThumbnailsAlign:{behavior:"smooth",block:"nearest",inline:"center"},overlayPreventClose:!1,infinitePager:!1,lang:$("html").attr("lang")||"cs"},s={cs:{close:"Zavřít",prev:"Předchozí",next:"Další",of:"/"},sk:{close:"Zavrieť",prev:"Predchádzajúca",next:"Ďalšie",of:"/"},en:{close:"Close",prev:"Previous",next:"Next",of:"/"},de:{close:"Zumachen",prev:"Vorige",next:"Folgend",of:"/"},es:{close:"Vaer",prev:"Previo",next:"Siguiente",of:"/"},fr:{close:"Fermer",prev:"Précédant",next:"Suivant",of:"/"},it:{close:"Chiudere",prev:"Previo",next:"Veniente",of:"/"},ro:{close:"Închide",prev:"Anterior",next:"Următor",of:"/"},sr:{close:"Zatvori",prev:"Prethodna",next:"Sledeći",of:"/"},ru:{close:"закрыть",prev:"Предшествующий",next:"Последующий",of:"/"}},a=["beforeOpen","afterOpen","load","beforeClose","afterClose"];function e(e){for(var t in e=e||{},this.defaults={},n)n.hasOwnProperty(t)&&(this.defaults[t]=(void 0!==e[t]?e:n)[t]);this.defaults.className=n.className+(e.className?" "+e.className:""),this.options=$.extend({},n,e),e.template&&(this.options.template=e.template.toString()),"object"==typeof e.langs?this.langs=$.extend({},s,e.langs):this.langs=s,this.options.lang in this.langs||(this.options.lang="en"),this.isOpen=!1,this.setOnOpenOptions=!1,this.isAjax=e.isAjax||!1,this.isInner=e.isInner||!1,this.events={},this.overlay=null,this.rootElem={},this.window={},this.$doc=$(document),this.$body=$("body"),this.spinnerHtml=e.spinnerHtml||"<span class='pdbox__spinner'></span>",this.html="function"==typeof e.template?e.template(this):$content="<div class='pdbox__window'>\t<div class='pdbox__content'>\t\t<h2 class='pdbox__title'></h2>\t\t<div class='pdbox__desc'>"+((o=this).isAjax?"<div id='snippet--pdbox' class='pdbox__snippet'></div>":"")+"\t\t</div>\t\t<p class='pdbox__pager'>\t\t\t<a href='#' class='pdbox__page pdbox__page--prev' rel=''><span>"+o.langs[o.options.lang].prev+"</span></a>\t\t\t<span class='pdbox__pages'></span>\t\t\t<span class='pdbox__pages-summary'><span class='pdbox__active-page'></span>"+o.langs[o.options.lang].of+"<span class='pdbox__pages-count'></span></span>\t\t\t<a href='#' class='pdbox__page pdbox__page--next' rel=''><span>"+o.langs[o.options.lang].next+"</span></a>\t\t</p>\t\t<p class='pdbox__media-box'></p>\t\t<div class='pdbox__pager--thumbnails'></div>"+o.spinnerHtml+"\t\t<a href='#' class='pdbox__close' title='"+o.langs[o.options.lang].close+"'> "+o.langs[o.options.lang].close+"</a>\t</div></div>",this.$el=null;for(var i,o,t=0;t<a.length;t++){if("object"==typeof e[i=r(a[t])])for(fn in e[i])e[i].hasOwnProperty(fn)&&"function"==typeof e[i][fn]&&this.addEventListener(a[t],e[i][fn]);else"function"==typeof e[i]&&this.addEventListener(a[t],e[i]);this.options[i]=void 0}this.addEventListener("load",function(){this.rootElem.removeClass("pdbox--loading")}),this.addEventListener("afterOpen",w),this.addEventListener("load",w),o=document.createElement("style"),document.head.appendChild(o),(o=o.sheet).insertRule(":root { --pdbox-scrollbar-width:"+function(){var e=document.createElement("p"),t=(e.style.width="100%",e.style.height="200px",document.createElement("div")),i=(t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t),e.offsetWidth),e=(t.style.overflow="scroll",e.offsetWidth);i===e&&(e=t.clientWidth);return document.body.removeChild(t),i-e}()+"px; }",o.cssRules.length)}e.prototype.open=function(e,t,i){var l,o,p,r,n,s;this.$el=e,this.isOpen?this.removeEventListener("load",this.setOptions):(this.isOpen=!0,this.setOnOpenOptions=!0,this.isBodyOverflowing=(o=document.body.getBoundingClientRect()).left+o.right<window.innerWidth,this.dispatchEvent("beforeOpen",{element:e}),(o=this).rootElem=$('<div class="pdbox u-out"></div>'),o.rootElem.html(o.html).prependTo(o.$body),o.window.elem=o.rootElem.find(".pdbox__window"),o.window.close=o.window.elem.find(".pdbox__close"),o.window.title=o.window.elem.find(".pdbox__title"),o.window.content=o.window.elem.find(".pdbox__content"),o.window.descWrap=o.window.elem.find(".pdbox__desc"),o.window.desc=o.window.elem.find(".pdbox__snippet"),o.window.desc.length||(o.window.desc=o.window.descWrap),o.window.pager={elem:o.window.elem.find(".pdbox__pager"),pages:o.window.elem.find(".pdbox__pages"),pagesSummary:o.window.elem.find(".pdbox__pages-summary"),activePage:o.window.elem.find(".pdbox__active-page"),pagesCount:o.window.elem.find(".pdbox__pages-count"),prev:o.window.elem.find(".pdbox__page--prev"),next:o.window.elem.find(".pdbox__page--next"),thumbnails:o.window.elem.find(".pdbox__pager--thumbnails")},o.window.media=o.window.elem.find(".pdbox__media-box"),$(document).on("click.pdbox",".pdbox__close, .pdbox__close--alternative",$.proxy(m,o)),o.$doc.on("keyup.pdbox",$.proxy(h,o)),(o=this).overlay=$('<div class="pdbox__overlay"></div>').prependTo(o.rootElem),i||this.rootElem.addClass("pdbox--loading"),this.isInner&&this.rootElem.addClass("pdbox--inner"),this.setOptions(),this.setOnOpenOptions=!1),this.addEventListener("load",this.setOptions),this.window.elem.on("click",$.proxy(m,this)),this.$body.addClass("pdbox-open"),this.window.pager.elem.hide(),this.window.pager.thumbnails.hide(),this.window.media.hide(),this.window.title.hide(),void 0!==e&&void 0!==t&&e.is(":not(.ajax)")&&(l=this,o=t,(t=(i=e).data("rel"))&&(o=$(o),p=$([]),r=o.filter('[data-rel="'+t+'"]'),n="",r.each(function(e){n+=" <a href='"+this.href+"' class='pdbox__page'>"+(e+1)+"</a> "}),l.window.pager.pages.empty().append(n),l.options.imageThumbnails?(s="",r.each(function(e){var t=$(this),i=t.data("pdbox-title")||t.find("img").attr("alt")||t.attr("title");s+="<li class='pdbox__thumbnail-item'><a href='"+this.href+"' class='pdbox__thumbnail-link'><img class='pdbox__thumbnail' src='"+t.data("pdbox-thumbnail")+"' alt='"+i+"'></a></li>"}),l.window.pager.thumbnails.append($('<ul class="pdbox__thumbnail-list"/>')).find(".pdbox__thumbnail-list").append(s),l.window.pager.thumbnails.show(),p=l.window.pager.thumbnails.find("a")):l.window.pager.thumbnails.hide(),($numbers=l.window.pager.pages.find("a")).on("click.pdbox open.pdbox",function(e){var t=$(this),i=$numbers.index(this),o=($numbers.removeClass("pdbox__page--active"),t.addClass("pdbox__page--active"),p.length&&(p.removeClass("pdbox__thumbnail-link--active"),p.eq(i).addClass("pdbox__thumbnail-link--active"),t=l.options.imageThumbnailsAlign,"function"==typeof l.options.imageThumbnailsAlign&&(t=l.options.imageThumbnailsAlign()),"open"===e.type&&"object"==typeof t&&"smooth"===t.behavior&&((t=$.extend({},l.options.imageThumbnailsAlign)).behavior="auto"),p[i].scrollIntoView(t)),l.window.pager.activePage.text(i+1),l.options.infinitePager||(0===i?l.window.pager.prev.addClass("pdbox__page--disabled"):l.window.pager.prev.removeClass("pdbox__page--disabled"),i===$numbers.length-1?l.window.pager.next.addClass("pdbox__page--disabled"):l.window.pager.next.removeClass("pdbox__page--disabled")),l),t=this.href,n=r.eq(i),i=n.find("img"),s=n.data("pdbox-title")||i.attr("alt")||n.attr("title"),i=n.data("pdbox-description")||i.attr("title")||"",a=n.data("pdbox-srcset"),d=(o.rootElem.addClass("pdbox--loading pdbox--media"),o.window.media.show(),s?o.window.title.show().text(s):o.window.title.hide(),i?(o.window.descWrap.show(),o.window.desc.html("<p>"+i+"</p>")):o.window.descWrap.hide(),n.data("pdbox-video")),i="pdbox__media "+(d?"pdbox__media--video":"pdbox__media--image"),t={src:t};preloader=document.createElement(d?"iframe":"img"),$(preloader).on("load insert",function(e){(!d&&"load"===e.type||d&&"insert"===e.type)&&o.window.media.html(this),"load"===e.type&&o.dispatchEvent("load",{element:n,content:preloader})}),!d&&s&&(t.alt=s),d?(t.allowfullscreen=!0,t.width=o.options.width,t.height=o.options.width/(16/9)):a&&(t.srcset=a,(s=(s=n.data("pdbox-sizes"))||o.options.sizes)&&(t.sizes=s)),$(preloader).addClass(i).attr(t),d&&$(preloader).triggerHandler("insert"),e.preventDefault()}).eq(r.index(i)).trigger("open.pdbox"),p.length&&p.on("click.pdbox",function(e){e.preventDefault(),$numbers.eq(p.index(this)).trigger("click.pdbox")}),l.window.pager.prev.on("click.pdbox",function(e){e.preventDefault();e=l.window.pager.pages.find(".pdbox__page--active").prev();(e=0===e.length&&l.options.infinitePager?l.window.pager.pages.find(".pdbox__page").last():e).length&&e.trigger("click.pdbox")}),l.window.pager.next.on("click.pdbox",function(e){e.preventDefault();e=l.window.pager.pages.find(".pdbox__page--active").next();(e=0===e.length&&l.options.infinitePager?l.window.pager.pages.find(".pdbox__page").first():e).length&&e.trigger("click.pdbox")}),l.$doc.on("keyup.pdbox",$.proxy(c,l)),1<$numbers.length&&(l.window.pager.elem.show(),l.window.pager.pagesCount.text($numbers.length)))),this.dispatchEvent("afterOpen",{element:e})},e.prototype.close=function(t){var i,e,o;this.isOpen&&(i=this.$el,this.isOpen=!1,this.$el=null,this.removeEventListener("load",this.setOptions),this.rootElem.addClass("pdbox--closing"),this.dispatchEvent("beforeClose",{element:i,event:t}),this.window.elem.off(),e=parseInt(getComputedStyle(this.rootElem[0]).getPropertyValue("--pdbox-closing-duration")||0),o=this,setTimeout(function(){var e;(e=o).window.close.off(),e.window.pager.next.off(),e.window.pager.prev.off(),e.window.pager.pages.find("a").off(),e.window.pager.thumbnails.off(),e.overlay.off(),e.$doc.off("keyup.pdbox"),e.rootElem.remove(),o.isInner||o.$body.removeClass("pdbox-open pdbox-open--scrollbar-offset"),o.dispatchEvent("afterClose",{element:i,event:t})},e))},e.prototype.content=function(e){var t;if(void 0===e)return(t=this.window.elem.clone()).find(".ajax-overlay, .ajax-loader").remove(),t.html();this.window.elem.html(e),this.window.content=this.window.elem.find(".pdbox__content")},e.prototype.setOptions=function(e,t){var i,o,n;if(this.setOnOpenOptions)for($.extend(this.options,this.defaults),i=0;i<a.length;i++)o=r(a[i]),this.options[o]=null;if(this.$el){var s={};for(s.width=this.$el.data("pdboxWidth"),s.className=this.$el.data("pdboxClassName")?this.$el.data("pdboxClassName")+" "+this.defaults.className:this.defaults.className,s.overlayPreventClose=this.$el.data("pdboxOverlayPreventClose")?this.$el.data("pdboxOverlayPreventClose"):this.defaults.overlayPreventClose,i=0;i<a.length;i++)n=p(a[i]),s[o=r(a[i])]=this.$el.data(n);$.extend(this.options,s)}e&&t&&$.extend(this.options,e),this.rootElem.removeClass(function(e,t){var t=t.split(" "),i=["pdbox","pdbox--loading","pdbox--media","pdbox--inner"];return t.filter(function(e){return-1===i.indexOf(e)}).join(" ")}).addClass(this.options.className),this.window.content.css({"max-width":this.options.width+"px"})};function d(e){e in this.events||(this.events[e]=[])}e.prototype.addEventListener=function(e,t){d.call(this,e),this.events[e].push(t)},e.prototype.removeEventListener=function(e,t){d.call(this,e),void 0===e?this.events={}:this.events[e]=$.grep(this.events[e],function(e){return void 0!==t&&e!==t})},e.prototype.dispatchEvent=function(e,t){d.call(this,e);for(var i=0;i<this.events[e].length;i++)this.events[e][i].call(this,t);var o=r(e);if(this.options[o])for(var n=this.options[o].split(" "),i=0;i<n.length;i++){var s=l(n[i].trim(),window);null!==s&&s.call(this,t)}};var l=function(e,t){for(var i=e.split("."),o=t,n=0;n<i.length;n++){if(!(i[n]in o))return null;o=o[i[n]]}return o},p=function(e){return"pdboxOn"+e.charAt(0).toUpperCase()+e.slice(1)},r=function(e){return"on"+e.charAt(0).toUpperCase()+e.slice(1)};function h(e){27===e.which&&this.close(e)}function c(e){37===e.which?this.window.pager.prev.not(".pdbox__page--disabled").trigger("click"):39===e.which&&this.window.pager.next.not(".pdbox__page--disabled").trigger("click"),e.preventDefault()}function w(){var e;this.isBodyOverflowing?this.$body.addClass("pdbox-open--scrollbar-offset"):(e=this).window.elem&&e.window.elem[0].scrollHeight>document.documentElement.clientHeight?this.window.elem.addClass("pdbox__window--scrollbar-offset"):this.window.elem.removeClass("pdbox__window--scrollbar-offset")}function m(e){var t=$(e.target).closest("a");(!this.options.overlayPreventClose&&e.target===this.window.elem[0]||this.window.elem.has(e.target).length&&(t.hasClass("pdbox__close")||t.hasClass("pdbox__close--alternative")))&&(this.close(e),e.preventDefault())}return e.prototype.openHtml=function(e,t){var i=t.data("pdbox-title");this.open(t,void 0,!0),this.window.descWrap.show(),this.window.desc.html(e),i?this.window.title.show().text(i):this.window.title.hide(),this.dispatchEvent("load",{element:t,content:e})},e.prototype.openUrl=function(e,t){this.open(t,void 0,!1),$.ajax({url:e,success:$.proxy(function(e){this.window.descWrap.show(),this.window.desc.html(e),this.dispatchEvent("load",{element:t,content:e})},this)})},e}();